# Tilfeldige Ord (Norwegian Random Word Generator)
Tilfeldige Ord is a simple static website built with Eleventy that generates random Norwegian compound words by combining two words from a dictionary of 905 Norwegian nouns. The site is deployed to tilfeldigeord.no.

Always reference these instructions first and fallback to search or bash commands only when you encounter unexpected information that does not match the info here.

## Working Effectively
- Bootstrap and build the repository:
  - `npm install` -- takes 2-25 seconds depending on network. Set timeout to 60 seconds.
  - `npm run build` -- takes under 1 second. NEVER CANCEL. Set timeout to 30 seconds minimum.
- Test the application:
  - `npm run serve` -- starts development server on http://localhost:8081/. Set timeout to 30 seconds.
  - `npm run watch` -- builds and watches for changes. Set timeout to 30 seconds.
- There are NO automated tests (`npm test` exits with error). All validation must be manual.
- Node.js 18 is recommended (see .nvmrc file).

## Validation
- Always manually validate functionality after making changes by:
  1. Running `npm run serve` and navigating to http://localhost:8081/
  2. Testing the main random word generator by clicking "Nytt ord" button multiple times
  3. Verifying navigation works between all three pages: "/" (random words), "/alle/" (all words), "/statistikk/" (statistics)
  4. Confirming statistics page shows correct counts (905 words, 818,120 combinations)
- ALWAYS run through at least one complete end-to-end scenario after making changes.
- Test word generation functionality by refreshing the page and clicking "Nytt ord" several times to ensure different combinations appear.
- Verify that the "Alle ord" page displays the complete list of 905 Norwegian words.
- Check that statistics calculations are correct on the "/statistikk/" page.

## Build and Development Commands
All builds are extremely fast (under 1 second). NEVER CANCEL build commands.

- `npm install` -- Install dependencies (2-25 seconds depending on network)
- `npm run build` -- Build static site to dist/ directory (0.1 seconds)
- `npm run serve` -- Build and serve on http://localhost:8081/ with live reload
- `npm run watch` -- Build and watch for file changes (no server)
- `npm run start` -- Alias for serve
- `npm run debug` -- Build with DEBUG=* environment variable

## Common Validation Scenarios
After making any changes, always test these scenarios manually:

### Basic Functionality Test
1. Start server: `npm run serve`
2. Open http://localhost:8081/
3. Verify a random compound word appears (e.g., "Spadetater", "Kakkerlakknerve")
4. Click "Nytt ord" button 3-5 times to ensure different words generate
5. Test navigation: click "Alle ord" and "Statistikk" links
6. Verify statistics show 905 words and 818,120 combinations

### Content Validation
- The site content is in Norwegian but source code and comments are in English
- All 905 Norwegian nouns are stored in src/data/nouns.json
- Random words are generated by combining exactly 2 words and capitalizing the result

### File Change Validation
- If you modify nouns.json, verify word count updates on statistics page
- If you modify templates, verify changes appear after rebuild
- If you modify JavaScript in app.njk, verify functionality still works

## Repository Structure
- `src/` -- Source files
  - `app.njk` -- Generates JavaScript file with word data and logic
  - `data/nouns.json` -- 905 Norwegian nouns (one per line in JSON array)
  - `layouts/base.njk` -- Base HTML template
  - `pages/` -- Page templates (index.njk, all.njk, stats.njk)
  - `static/` -- CSS and images
- `dist/` -- Build output (generated, do not edit)
- `.eleventy.js` -- Eleventy configuration
- `package.json` -- Dependencies and scripts

## Key Files to Know
- `src/data/nouns.json` -- The complete dictionary of Norwegian words
- `src/app.njk` -- Contains the word combination logic and array shuffling
- `src/pages/index.njk` -- Main page with random word display
- `.eleventy.js` -- Build configuration with custom filters

## Eleventy Configuration
The site uses Eleventy 3.0.0 with:
- Nunjucks templating engine
- Custom filters: count, combinations, quote, sortedByPriority
- Input: src/, Output: dist/
- Static files copied from src/static/ and src/public/

## Development Notes
- No linting tools configured (no ESLint, Prettier, etc.)
- No testing framework configured
- No CI/CD workflows exist
- Very minimal dependencies (only @11ty/eleventy)
- Site is optimized for simplicity and fast builds
- All functionality relies on client-side JavaScript for word generation

## Manual Testing Outputs
Expected behavior when testing:
- Main page: Shows random Norwegian compound word as <h1>
- "Nytt ord" click: Generates new compound word instantly
- "Alle ord" page: Lists all 905 words in a bulleted list
- "Statistikk" page: Table showing "Antall ord: 905" and "Antall mulige kombinasjoner: 818120"
- Navigation: All three navigation links work between pages
- Footer: Links to GitHub repository at https://github.com/cruftlab/tilfeldigeord.no/

## Common Commands Output Reference
```bash
# npm install (varies by network speed)
added 189 packages, and audited 190 packages in 2s
45 packages are looking for funding

# npm run build  
[11ty] Writing ./dist/static/app.js from ./src/app.njk
[11ty] Writing ./dist/alle/index.html from ./src/pages/all.njk
[11ty] Writing ./dist/index.html from ./src/pages/index.njk
[11ty] Writing ./dist/statistikk/index.html from ./src/pages/stats.njk
[11ty] Copied 7 Wrote 4 files in 0.10 seconds (v3.0.0)

# npm run serve
[11ty] Server at http://localhost:8081/
[11ty] Watching…

# Directory structure after build
dist/
├── alle/index.html
├── index.html
├── statistikk/index.html
├── static/app.js
├── static/style.css
└── static/images/
```