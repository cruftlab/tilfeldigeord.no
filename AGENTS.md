# Tilfeldige Ord (Norwegian Random Word Generator)

Tilfeldige Ord is a simple static website built with Astro that generates random Norwegian compound words by combining two words from a dictionary of Norwegian nouns. The site is deployed to tilfeldigeord.no.

## Commit Message Format

This project uses semantic-release with conventional commits. Always use semantic commit prefixes:

### Patch Version (0.0.X)
```
fix: correct word generation bug
chore: update dependencies
docs: fix typo in README
```

### Minor Version (0.X.0)
```
feat: add new word category
feat: improve statistics page
```

### Major Version (X.0.0)
```
feat!: redesign API
fix!: change word combination logic
```

Or with breaking change footer:
```
feat: redesign API

BREAKING CHANGE: The word generation API has changed
```

See [VERSIONING.md](VERSIONING.md) for more details on automated releases.

## Working Effectively

- Bootstrap and build the repository:
  - `npm install` -- takes 2-25 seconds depending on network. Set timeout to 60 seconds.
  - `npm run build` -- takes under 2 seconds. NEVER CANCEL. Set timeout to 30 seconds minimum.
- Test the application:
  - `npm test` -- runs unit tests for word utilities using Vitest
  - `npm run dev` -- starts development server on http://localhost:4321/. Set timeout to 30 seconds.
- Node.js 18+ is recommended (see .nvmrc file).

## Validation

Always manually validate functionality after making changes by:
1. Running `npm run dev` and navigating to http://localhost:4321/
2. Testing the main random word generator by clicking "Nytt ord" button multiple times
3. Verifying navigation works between all three pages: "/" (random words), "/alle/" (all words), "/statistikk/" (statistics)
4. Check that statistics calculations are correct on the "/statistikk/" page

## Build and Development Commands

All builds are fast (under 2 seconds). NEVER CANCEL build commands.

- `npm install` -- Install dependencies (2-25 seconds depending on network)
- `npm run build` -- Build static site to dist/ directory (~1 second)
- `npm run dev` -- Build and serve on http://localhost:4321/ with live reload
- `npm test` -- Run unit tests with Vitest
- `npm run test:watch` -- Run tests in watch mode

## Repository Structure

- `src/` -- Source files
  - `lib/` -- Utility libraries
    - `nouns.ts` -- YAML data loader for Norwegian nouns
    - `word-utils.ts` -- TypeScript utilities for word generation and array manipulation
  - `layouts/` -- Astro layout components
  - `pages/` -- Astro page components (index.astro, alle.astro, statistikk.astro)
  - `data/nouns.yaml` -- Norwegian nouns in YAML format
- `test/` -- Unit tests using Vitest
- `dist/` -- Build output (generated, do not edit)

## Key Information

- The site content is in Norwegian but source code and comments are in English
- Random words are generated by combining exactly 2 words and capitalizing the result
- Word generation logic is extracted to TypeScript utilities with unit tests
- Site uses Astro 5.x with static site generation (SSG)
- Unit testing framework: Vitest with comprehensive test coverage
- Always run both `npm test` and `npm run build` after making code changes
